<ion-header>
  <ion-toolbar>
    <ion-tab-button tab="home">s
      <ion-title>Inscription</ion-title>
      <ion-icon name="arrow-back"></ion-icon>
    </ion-tab-button>
  </ion-toolbar>
</ion-header>
<ion-content>
  @if (subscription$ | async; as sub ) {
  <h2>Détails de l'Abonnement {{ sub.companyName }}</h2>
  <ul>
    <li>
      <div><strong>Montant:</strong> {{ sub.amount | currency : "CHF" }}</div>
    </li>
    <li>
      <div>
        <strong>Date de facturation suivante:</strong>
        {{ sub.nextPaymentDate | date }}
      </div>
    </li>
    <li><strong>Paiements précedants :</strong></li>
    <ul>
      @if (sub.paymentHistory.length) { 
        @for (paymentHistory of sub.paymentHistory; track trackByFn ) {
      <li>
        <div>{{ paymentHistory.date | date : "d.MM.yyyy" }}</div>
        <ul>
          <li>prix : {{ paymentHistory.amount }}</li>
        </ul>
      </li>
      } } @else { noHistory }
    </ul>
  </ul>

  <ng-template #noHistory>
    <p>Aucun historique de paiement disponible.</p>
  </ng-template>
  }
</ion-content>
